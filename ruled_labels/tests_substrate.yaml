name: Substrate ruled-labels test cases
spec_file: specs_substrate.yaml

specs:
  - name: Pass - Pass all
    filter:
      id: [single_b, single_d, single_u, single_s, single_c]
    labels: [B1, C1, D1, T1, S4]
    expected: true

  - name: Fail - Require release label
    filter:
      id: [single_b]
    labels: [A1]
    expected: false

  - name: Pass - Release label provided.
    filter:
      id: [release_notes]
    labels: [A1, B0]
    expected: true

  - name: Fail - Only one audit label allowed
    filter:
      id: [single_d]
    labels: [D1, B1, D4]
    expected: false

  - name: Fail - Release needs criticality
    filter:
      id: [require_one_c_when_b1]
    labels: [B1, T1, D1]
    expected: false
 
  - name: Fail - Release need a topic
    filter:
      id: [ require_x_when_b1 ]
    labels: [ B1, D1 ]
    expected: false

  - name: Pass - Release has X0 as topic
    filter:
      id: [ single_x ]
    labels: [ B1, D1, X0 ]
    expected: true

  - name: Pass - Release has X1 as topic
    filter:
      id: [ single_x ]
    labels: [ B1, D1, X1 ]
    expected: true

  - name: Pass - Release has X2 as topic
    filter:
      id: [ single_x ]
    labels: [ B1, D1, X2 ]
    expected: true

  - name: Fail - PR has multiple release topics
    filter:
      id: [ single_x ]
    labels: [B1, X0, X2, X1, D1]
    expected: false

  - name: Fail - Only one criticality label allowed
    filter:
      id: [single_c]
    labels: [B1, C1, C3]
    expected: false

  - name: Fail - Only one urgency label allowed
    filter:
      id: [single_u]
    labels: [B1, U1, U3]
    expected: false

  - name: Fail - Only one status label allowed
    filter:
      id: [single_s]
    labels: [B1, S1, S3]
    expected: false
